{% set version = "6.1.1" %}

package:
  name: mantid-qt
  version: {{ version }}

source:
  git_url: https://github.com/mantidproject/mantid.git
  git_tag: 32079_mantidqt_separate_package
  patches:
    # - finder_patch.patch
    # - windows_mantid.patch  # [win]
    #- windows_bundle.patch  # [win]
    #- install_patch.patch

requirements:
  build:
    - {{ compiler("c") }}
    - {{ compiler("cxx") }}
    - llvm-openmp  # [osx]
    - libgomp  # [linux]
    - ninja  # [unix]
    - cmake
  host:
    - mantid-framework
    - eigen
    - jemalloc  # [unix]
    - gsl 2.6.*
    - poco
    - psutil
    - python
    - python.app  # [osx]
    - qscintilla2
    - pyqt
    - qt 5.12.*
    - setuptools 48.0.*
    - tbb-devel 2020.2.*

  run:
    - pyqt
    - qtpy
    - qtconsole
    - matplotlib
    - python
    - python.app  # [osx]

test:
  imports:
    - mantidqt
    - mantidqt.icons

about:
  home: https://github.com/mantidproject/mantid
  license: GPL-3.0-or-later
  summary: Mantid provides a framework that supports high-performance computing and visualisation of materials science data.

extra:
  recipe-maintainers:
    - StephenSmith25